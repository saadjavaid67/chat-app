{"version":3,"sources":["audio/audio.mp3","components/Home.js","private/Config.js","components/Login.js","App.js","reportWebVitals.js","index.js"],"names":["socket","io","Home","_user","_audio","Audio","audio","_name","user","displayName","_dp","photoURL","formatAMPM","date","hours","getHours","minutes","getMinutes","ampm","useState","mute","setMute","scrollDown","document","getElementById","childNodes","length","scrollIntoView","behavior","message","setMessage","sendMessage","data","name","picture","emit","chatBox","messageElement","createElement","className","innerHTML","Date","append","sentMessage","blur","useEffect","on","appendJoin","typers","i","Object","keys","addEventListener","dp","play","recieveMessage","onClick","SignOut","id","onSubmit","e","preventDefault","type","autoComplete","onKeyUp","onChange","onTyping","target","value","placeholder","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","Config","auth","Session","Login","useAuthState","error","provider","GoogleAuthProvider","signInWithPopup","currentUser","signOut","App","vh","window","innerHeight","documentElement","style","setProperty","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"wOAAe,MAA0B,kC,OCMnCA,EAASC,IAAG,8CAqIHC,MApIf,SAAcC,GACV,IAAIC,EAAS,IAAIC,MAAMC,GACnBC,EAAQJ,EAAMK,KAAKC,YACnBC,EAAMP,EAAMK,KAAKG,SACrB,SAASC,EAAWC,GAChB,IAAIC,EAAQD,EAAKE,WACbC,EAAUH,EAAKI,aACfC,EAAOJ,GAAS,GAAK,KAAO,KAKhC,OAHAA,GADAA,GAAgB,KACQ,IAEF,KADtBE,EAAUA,EAAU,GAAK,IAAMA,EAAUA,GACH,IAAME,EAGhD,IAdiB,EA6BOC,oBAAS,GA7BhB,mBA6BVC,EA7BU,KA6BJC,EA7BI,KA8CXC,EAAa,WACfC,SAASC,eAAe,YAAYC,WAAWF,SAASC,eAAe,YAAYC,WAAWC,OAAS,GAAGC,eAAe,CAAEC,SAAU,YA/CxH,EAyDaT,mBAAS,IAzDtB,mBAyDVU,EAzDU,KAyDDC,EAzDC,KA0DXC,EAAc,WAChB,GAAa,KAAVF,EAAa,CACZ,IAAIG,EAAO,CACPC,KAAM1B,EACN2B,QAASxB,EACTmB,QAASA,GAEb7B,EAAOmC,KAAK,eAAiBH,GAC7BhC,EAAOmC,KAAK,SAAU,CAAEN,QAAS,GAAII,KAAM1B,IA7C/B,SAACsB,GACjB,IAAIO,EAAUb,SAASC,eAAe,YAChCa,EAAiBd,SAASe,cAAc,OAC9CD,EAAeE,UAAY,wBAC3BF,EAAeG,UAAY,iGAAmGX,EAAnG,kCAAiJjB,EAAW,IAAI6B,MAAhK,mCAA+M/B,EAA/M,aAC3B0B,EAAQM,OAAOL,GACff,IAwCIqB,CAAYd,GACZC,EAAW,IACXP,SAASC,eAAe,WAAWoB,SAmC3C,OAhCAC,qBAAU,WACN7C,EAAOmC,KAAK,kBAAmB5B,GAC/BP,EAAO8C,GAAG,eAAe,SAACb,IA5DX,SAACJ,GAChB,IAAIO,EAAUb,SAASC,eAAe,YAChCa,EAAiBd,SAASe,cAAc,OAC9CD,EAAeE,UAAY,wBAC3BF,EAAeG,UAAY,0FAA4FX,EAA5F,kCAA0IjB,EAAW,IAAI6B,MAAzJ,qBAC3BL,EAAQM,OAAOL,GAwDXU,CAAWd,EAAO,0BAEvB,IACHY,qBAAU,WACN7C,EAAO8C,GAAG,kBAAkB,SAACd,GAEzB,IADA,IAAIgB,EAAS,GACJC,EAAI,EAAGA,EAAIC,OAAOC,KAAKnB,GAAMN,OAAQuB,GAAK,EAC3CC,OAAOC,KAAKnB,GAAMiB,KAAO1C,IACzByC,GAAWE,OAAOC,KAAKnB,GAAMiB,IAC7BC,OAAOC,KAAKnB,GAAMN,OAAS,IAAMuB,GAAgB,KAAXD,IACtCA,GAAU,OAEH,KAAXA,IACAA,GAAmB,cACvBzB,SAASC,eAAe,UAAUgB,UAAYQ,KAGlDhD,EAAO8C,GAAG,mBAAmB,SAACd,GAC1BT,SAASC,eAAe,YAAY4B,iBAAiB,mBAAmB,eA9DzD,SAACnB,EAAMJ,EAASwB,GACnCjD,EAAOkD,OACP,IAAIlB,EAAUb,SAASC,eAAe,YAChCa,EAAiBd,SAASe,cAAc,OAC9CD,EAAeE,UAAY,0BAC3BF,EAAeG,UAAY,uBAAyBa,EAAzB,4EACCpB,EADD,4CAECJ,EAFD,4CAGCjB,EAAW,IAAI6B,MAHhB,yBAM3BL,EAAQM,OAAOL,GACff,IAqDIiC,CAAevB,EAAKC,KAAMD,EAAKH,QAASG,EAAKE,cAGlD,IAMC,qBAAKK,UAAU,iBAAf,SACI,sBAAKA,UAAU,sBAAf,UACI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,OAAf,SACI,qBAAKA,UAAU,cAAf,8CAEJ,sBAAKA,UAAU,OAAf,UACI,qBAAKiB,QAAS,kBAAMnC,GAASD,IAA7B,SAAsCA,EAAS,mBAAGmB,UAAU,uBAA8B,mBAAGA,UAAU,uBACvG,cAAC,EAAQkB,QAAT,UAGR,qBAAKC,GAAG,WAAWnB,UAAU,aAG7B,wBAAQiB,QAAU,kBAAMlC,KAAeoC,GAAG,aAA1C,SAAuD,mBAAGnB,UAAU,mCACpE,sBAAKmB,GAAG,oBAAR,UACI,qBAAKA,GAAG,WACR,uBAAMC,SAAU,SAAAC,GAAC,OAAIA,EAAEC,kBAAkBH,GAAG,uBAAuBnB,UAAU,uBAA7E,UACI,uBAAOuB,KAAK,OAAOC,aAAa,MAAMC,QAAS,SAACJ,KAAmB3B,KAAK,UAAUyB,GAAG,UAAUO,SAAU,SAAAL,GAAC,OAvB7G,SAAC/B,GACdC,EAAWD,GACX7B,EAAOmC,KAAK,SAAU,CAAEN,QAASA,EAASI,KAAM1B,IAqB8E2D,CAASN,EAAEO,OAAOC,QAAQA,MAAOvC,EAASwC,YAAY,uBACpK,wBAAQX,GAAG,sBAAsBF,QAAS,kBAAMzB,KAAhD,8BCzHTuC,EAVQ,CACnBC,OAAQ,0CACRC,WAAY,oCACZC,UAAW,oBACXC,cAAe,gCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,gB,oCCGnBC,IAASC,cAAcC,GAEvB,IAAMC,EAAOH,IAASG,OAqBtB,IAIeC,EADD,CAAEC,MAvBhB,WAAiB,IASTlD,EATS,EAIGmD,YAAaH,GAAtB9E,EAJM,oBAUb,IACQA,EAAMM,cACNwB,EAAO9B,GACb,MAAOkF,IAGT,OAEKpD,EAAS,cAAC,EAAD,CAAMzB,KAAMyB,IAAa,wBAAQyB,GAAG,QAAQF,QAbjC,WACrB,IAAM8B,EAAW,IAAIR,IAASG,KAAKM,mBACnCN,EAAKO,gBAAgBF,IAWc,oBAKpB7B,QAHP,WACZ,OAAOwB,EAAKQ,aAAgB,wBAAQ/B,GAAG,UAAUF,QAAS,kBAAMyB,EAAKS,WAAzC,wBCvBjBC,MATf,WAEE,IAAIC,EAA0B,IAArBC,OAAOC,YAEhB,OADAvE,SAASwE,gBAAgBC,MAAMC,YAAY,OAA3C,UAAsDL,EAAtD,OAEE,cAAC,EAAQT,MAAT,KCKWe,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtF,SAASC,eAAe,SAM1B0E,M","file":"static/js/main.21af6322.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/audio.af4a25f6.mp3\";","import React, { useEffect, useState } from 'react'\r\nimport Session from './Login'\r\nimport io from 'socket.io-client'\r\nimport audio from \"../audio/audio.mp3\"\r\n\r\n\r\nconst socket = io('https://chat-app-serverside.herokuapp.com/')\r\nfunction Home(_user) {\r\n    let _audio = new Audio(audio);\r\n    let _name = _user.user.displayName;\r\n    let _dp = _user.user.photoURL;\r\n    function formatAMPM(date) {\r\n        var hours = date.getHours();\r\n        var minutes = date.getMinutes();\r\n        var ampm = hours >= 12 ? 'pm' : 'am';\r\n        hours = hours % 12;\r\n        hours = hours ? hours : 12; // the hour '0' should be '12'\r\n        minutes = minutes < 10 ? '0' + minutes : minutes;\r\n        var strTime = hours + ':' + minutes + ' ' + ampm;\r\n        return strTime;\r\n    }\r\n    const appendJoin = (message) => {\r\n        let chatBox = document.getElementById('chat-box');\r\n        const messageElement = document.createElement('div');\r\n        messageElement.className = 'sender-bubble-wrapper';\r\n        messageElement.innerHTML = `<div class=\"sender message-bubble\"><div style=\"font-style:italic;\" class=\"bubble-text\">` + message + `</div><div class=\"bubble-time\">` + formatAMPM(new Date()) + `</div></div></div>`\r\n        chatBox.append(messageElement)\r\n    }\r\n    const sentMessage = (message) => {\r\n        let chatBox = document.getElementById('chat-box');\r\n        const messageElement = document.createElement('div');\r\n        messageElement.className = 'sender-bubble-wrapper';\r\n        messageElement.innerHTML = `<div class=\"sender message-bubble\"><div class=\"bubble-name\">You</div><div class=\"bubble-text\">` + message + `</div><div class=\"bubble-time\">` + formatAMPM(new Date()) + `</div></div><img class=\"dp\" src=` + _dp + ` alt=\"dp\">`\r\n        chatBox.append(messageElement)\r\n        scrollDown();\r\n    }\r\n    const [mute, setMute] = useState(false);\r\n\r\n    const recieveMessage = (name, message, dp) => {\r\n        _audio.play();\r\n        let chatBox = document.getElementById('chat-box');\r\n        const messageElement = document.createElement('div');\r\n        messageElement.className = 'reciever-bubble-wrapper';\r\n        messageElement.innerHTML = `<img class=\"dp\" src=` + dp + ` alt=\"dp\"><div class=\"message-bubble\">\r\n        <div class=\"bubble-name\">`+ name + `</div>\r\n        <div class=\"bubble-text\">`+ message + `</div>\r\n        <div class=\"bubble-time\">`+ formatAMPM(new Date())\r\n            + `</div>\r\n        </div>`\r\n        chatBox.append(messageElement)\r\n        scrollDown();\r\n\r\n    }\r\n    const scrollDown = () => {\r\n        document.getElementById('chat-box').childNodes[document.getElementById('chat-box').childNodes.length - 1].scrollIntoView({ behavior: 'smooth' })\r\n        // if (document.getElementById('chat-box').scrollTop / document.getElementById('chat-box').scrollHeight <= 0.70)\r\n        //     document.getElementById('scrollDown').style.display = 'none';\r\n        // else\r\n        //     document.getElementById('scrollDown').style.display = 'block'\r\n    }\r\n    const enterKey = (e) => {\r\n        // if (e.key === \"Enter\")\r\n        //     document.getElementById('message-send-button').click()\r\n    }\r\n    const [message, setMessage] = useState('');\r\n    const sendMessage = () => {\r\n        if(message!==''){\r\n            let data = {\r\n                name: _name,\r\n                picture: _dp,\r\n                message: message\r\n            }\r\n            socket.emit('send-message', (data));\r\n            socket.emit('typing', { message: '', name: _name })\r\n            sentMessage(message)\r\n            setMessage(\"\");\r\n            document.getElementById('message').blur();\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        socket.emit('new-user-joined', _name)\r\n        socket.on('user-joined', (name) => {\r\n            appendJoin(name + ' Joined the Chat.')\r\n        })\r\n    }, [])\r\n    useEffect(() => {\r\n        socket.on('recieve-typing', (data) => {\r\n            let typers = '';\r\n            for (let i = 0; i < Object.keys(data).length; i += 2) {\r\n                if (Object.keys(data)[i] !== _name)\r\n                    typers += (Object.keys(data)[i])\r\n                if (Object.keys(data).length - 2 !== i && typers !== '')\r\n                    typers += ' + ';\r\n            }\r\n            if (typers !== '')\r\n                typers = (typers + ' Typing...')\r\n            document.getElementById('typing').innerHTML = typers;\r\n        });\r\n\r\n        socket.on('recieve-message', (data) => {\r\n            document.getElementById('chat-box').addEventListener('DOMNodeInserted', () => {\r\n                // document.getElementById('scrollDown').style.display = 'block'\r\n            })\r\n            recieveMessage(data.name, data.message, data.picture)\r\n        });\r\n\r\n    }, [])\r\n    const onTyping = (message) => {\r\n        setMessage(message);\r\n        socket.emit('typing', { message: message, name: _name })\r\n    }\r\n    return (\r\n        <div className=\"home-container\">\r\n            <div className=\"main-chat-container\">\r\n                <div className=\"chat-header\">\r\n                    <div className=\"m-10\">\r\n                        <div className=\"header-text\">Realtime Chat Around the World</div>\r\n                    </div>\r\n                    <div className=\"m-10\">\r\n                        <div onClick={() => setMute(!mute)}>{(mute) ? (<i className=\"fas fa-volume-mute\"></i>) : (<i className=\"fas fa-volume-up\"></i>)}</div>\r\n                        <Session.SignOut />\r\n                    </div>\r\n                </div>\r\n                <div id=\"chat-box\" className=\"chat-box\">\r\n\r\n                </div>\r\n                <button onClick={(() => scrollDown())} id=\"scrollDown\"><i className=\"fas fa-arrow-alt-circle-down\"></i></button>\r\n                <div id=\"sending-component\">\r\n                    <div id=\"typing\"></div>\r\n                    <form onSubmit={e => e.preventDefault()} id=\"send-message-wrapper\" className=\"send-message-wrapper\">\r\n                        <input type=\"text\" autoComplete=\"off\" onKeyUp={(e) => enterKey(e)} name=\"message\" id=\"message\" onChange={e => onTyping(e.target.value)} value={message} placeholder=\"Enter Your Message\" />\r\n                        <button id=\"message-send-button\" onClick={() => sendMessage()}>Send</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n","const firebaseConfig = {\r\n    apiKey: \"AIzaSyCyB2Or8Dxmwd8m_iptGEFcqN579BN1dzk\",\r\n    authDomain: \"message-app-b2d31.firebaseapp.com\",\r\n    projectId: \"message-app-b2d31\",\r\n    storageBucket: \"message-app-b2d31.appspot.com\",\r\n    messagingSenderId: \"939057848458\",\r\n    appId: \"1:939057848458:web:9efb13d3cf5d74bd9d4d73\",\r\n    measurementId: \"G-B21M3PZ13F\",\r\n};\r\n\r\nexport default firebaseConfig;","import React from \"react\";\r\nimport Home from \"./Home\";\r\nimport Config from \"../private/Config\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/analytics\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\n// import { useCollectionData } from 'react-firebase-hooks/firestore';\r\n\r\nfirebase.initializeApp(Config);\r\n\r\nconst auth = firebase.auth();\r\nfunction Login() {\r\n\r\n\r\n    // const firestore = firebase.firestore();\r\n    const [_user] = useAuthState(auth)\r\n    const signInWithGoogle = () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        auth.signInWithPopup(provider);\r\n    }\r\n    let name;\r\n    try {\r\n        if (_user.displayName)\r\n            name = _user\r\n    } catch (error) {\r\n        // console.log(error)\r\n    }\r\n    return (\r\n\r\n        (name) ? (<Home user={name} />) : (<button id=\"login\" onClick={signInWithGoogle}>Login</button>));\r\n};\r\nconst SignOut = () => {\r\n    return auth.currentUser && (<button id=\"signout\" onClick={() => auth.signOut()}>Sign Out</button>)\r\n}\r\nlet Session = { Login, SignOut };\r\nexport default Session;\r\n","import './App.css';\nimport Session from './components/Login';\nfunction App() {\n  //For setting the height of app according to mobile\n  let vh = window.innerHeight * 0.01;\n  document.documentElement.style.setProperty('--vh', `${vh}px`);\n  return (\n    <Session.Login />\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}