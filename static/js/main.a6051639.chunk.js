(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var s=n(4),c=n.n(s),a=n(42),i=n.n(a),d=(n(50),n(51),n(17)),o=n(43),r=n.n(o),l=n.p+"static/media/audio.af4a25f6.mp3",u=n(3),m=r()("https://chat-app-serverside.herokuapp.com/");var b=function(e){var t=new Audio(l),n=e.user.displayName,c=e.user.photoURL;function a(e){var t=e.getHours(),n=e.getMinutes(),s=t>=12?"pm":"am";return(t=(t%=12)||12)+":"+(n=n<10?"0"+n:n)+" "+s}var i=Object(s.useState)(!1),o=Object(d.a)(i,2),r=o[0],b=o[1],p=function(){document.getElementById("chat-box").childNodes[document.getElementById("chat-box").childNodes.length-1].scrollIntoView({behavior:"smooth"}),document.getElementById("chat-box").scrollTop/document.getElementById("chat-box").scrollHeight<=.7?document.getElementById("scrollDown").style.display="none":document.getElementById("scrollDown").style.display="block"},g=Object(s.useState)(""),v=Object(d.a)(g,2),j=v[0],f=v[1],y=function(){var e={name:n,picture:c,message:j};m.emit("send-message",e),m.emit("typing",{message:"",name:n}),function(e){var t=document.getElementById("chat-box"),n=document.createElement("div");n.className="sender-bubble-wrapper",n.innerHTML='<div class="sender message-bubble"><div class="bubble-name">You</div><div class="bubble-text">'+e+'</div><div class="bubble-time">'+a(new Date)+'</div></div><img class="dp" src='+c+' alt="dp">',t.append(n)}(j),p(),f(""),document.getElementById("message").blur()};return Object(s.useEffect)((function(){m.emit("new-user-joined",n),m.on("user-joined",(function(e){!function(e){var t=document.getElementById("chat-box"),n=document.createElement("div");n.className="sender-bubble-wrapper",n.innerHTML='<div class="sender message-bubble"><div style="font-style:italic;" class="bubble-text">'+e+'</div><div class="bubble-time">'+a(new Date)+"</div></div></div>",t.append(n)}(e+" Joined the Chat.")}))}),[]),Object(s.useEffect)((function(){m.on("recieve-typing",(function(e){for(var t="",s=0;s<Object.keys(e).length;s+=2)Object.keys(e)[s]!==n&&(t+=Object.keys(e)[s]),Object.keys(e).length-2!==s&&""!==t&&(t+=" + ");""!==t&&(t+=" Typing..."),document.getElementById("typing").innerHTML=t})),m.on("recieve-message",(function(e){document.getElementById("chat-box").addEventListener("DOMNodeInserted",(function(){document.getElementById("scrollDown").style.display="block"})),function(e,n,s){t.play();var c=document.getElementById("chat-box"),i=document.createElement("div");i.className="reciever-bubble-wrapper",i.innerHTML='<img class="dp" src='+s+' alt="dp"><div class="message-bubble">\n        <div class="bubble-name">'+e+'</div>\n        <div class="bubble-text">'+n+'</div>\n        <div class="bubble-time">'+a(new Date)+"</div>\n        </div>",c.append(i)}(e.name,e.message,e.picture)}))}),[]),Object(u.jsx)("div",{className:"home-container",children:Object(u.jsxs)("div",{className:"main-chat-container",children:[Object(u.jsxs)("div",{className:"chat-header",children:[Object(u.jsx)("div",{className:"m-10",children:Object(u.jsx)("div",{className:"header-text",children:"Realtime Chat Around the World"})}),Object(u.jsxs)("div",{className:"m-10",children:[Object(u.jsx)("div",{onClick:function(){return b(!r)},children:r?Object(u.jsx)("i",{className:"fas fa-volume-mute"}):Object(u.jsx)("i",{className:"fas fa-volume-up"})}),Object(u.jsx)(h.SignOut,{})]})]}),Object(u.jsx)("div",{id:"chat-box",className:"chat-box"}),Object(u.jsx)("button",{onClick:function(){return p()},id:"scrollDown",children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down"})}),Object(u.jsxs)("div",{id:"sending-component",children:[Object(u.jsx)("div",{id:"typing"}),Object(u.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},id:"send-message-wrapper",className:"send-message-wrapper",children:[Object(u.jsx)("input",{type:"text",autoComplete:"off",onKeyUp:function(e){},name:"message",id:"message",onChange:function(e){return function(e){f(e),m.emit("typing",{message:e,name:n})}(e.target.value)},value:j,placeholder:"Enter Your Message"}),Object(u.jsx)("button",{id:"message-send-button",onClick:function(){return y()},children:"Send"})]})]})]})})},p={apiKey:"AIzaSyCyB2Or8Dxmwd8m_iptGEFcqN579BN1dzk",authDomain:"message-app-b2d31.firebaseapp.com",projectId:"message-app-b2d31",storageBucket:"message-app-b2d31.appspot.com",messagingSenderId:"939057848458",appId:"1:939057848458:web:9efb13d3cf5d74bd9d4d73",measurementId:"G-B21M3PZ13F"},g=n(21),v=(n(85),n(82),n(86),n(45));g.a.initializeApp(p);var j=g.a.auth();var h={Login:function(){var e,t=Object(v.a)(j),n=Object(d.a)(t,1)[0];try{n.displayName&&(e=n)}catch(s){}return e?Object(u.jsx)(b,{user:e}):Object(u.jsx)("button",{id:"login",onClick:function(){var e=new g.a.auth.GoogleAuthProvider;j.signInWithPopup(e)},children:"Login"})},SignOut:function(){return j.currentUser&&Object(u.jsx)("button",{id:"signout",onClick:function(){return j.signOut()},children:"Sign Out"})}};var f=function(){var e=.01*window.innerHeight;return document.documentElement.style.setProperty("--vh","".concat(e,"px")),Object(u.jsx)(h.Login,{})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),y()}},[[84,1,2]]]);
//# sourceMappingURL=main.a6051639.chunk.js.map